# Sparta_UrlRewriteDebugger extends default error message
## WARNINGS:
- using *Sparta_UrlRewriteDebugger* on production instance is on your own risk

## Installation
```
git clone git@github.com:ydenyshchenk/Sparta_UrlRewriteDebugger.git app/code/Sparta/UrlRewriteDebugger
bin/magento module:enable Sparta_UrlRewriteDebugger
bin/magento setup:upgrade
```

## Usage
The next error messages during category or product saving
```sh
URL key for specified store already exists
```
will be automatically extended with details:
```sh
URL key for specified store already exists: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'apple-iphone-x' for key 'URL_REWRITE_REQUEST_PATH_STORE_ID'
```
Use key mentioned in the error as request_path value in the next SQL query:
```sql
mysql> select * from `url_rewrite` where `request_path` like '%apple-iphone-x%';
+----------------+-------------+-----------+-------------------------------------------------------------------+-------------------------------+---------------+----------+-------------+------------------+----------+
| url_rewrite_id | entity_type | entity_id | request_path                                                      | target_path                   | redirect_type | store_id | description | is_autogenerated | metadata |
+----------------+-------------+-----------+-------------------------------------------------------------------+-------------------------------+---------------+----------+-------------+------------------+----------+
|        87970 | custom      |         0 | apple-iphone-x | catalog/product/view/id/117 |           302 |        1 | NULL        |                0 | NULL     |
|        87472 | custom      |         0 | apple-iphone-x | catalog/product/view/id/117 |           302 |        2 | NULL        |                0 | NULL     |
+----------------+-------------+-----------+-------------------------------------------------------------------+-------------------------------+---------------+----------+-------------+------------------+----------+
2 rows in set (0.34 sec)

```

P.S. In the most cases such issues caused by custom redirects.